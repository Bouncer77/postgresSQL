Транзакция

```sql
BEGIN;

INSERT INTO groups(g_no, monitor)
SELECT 'A-101', s_id
FROM students
WHERE name = 'Анна';

UPDATE students SET g_no = 'A-101';

COMMIT;
```

Свойства транзакций:
	
1. атомарностью

	Любая транзакция либо выполняется целиком, либо не выполняется совсем.
	Если бы в одной из команд произошла ошибка, или мы сами прервали бы транзакцию командой ROLLBACK, то база данных осталась бы в том состоянии, в котором она была до команды BEGIN.

2. согласованность
	
	когда фиксируются изменения транзакции, все ограничения целостности должны быть выполнены, иначе транзакция прерывается. В начале работы транзакции данные находятся в согласованном состоянии, и в конце своей работы транзакция оставляет их согласованными.

3. изоляция
	
	другие пользователи никогда не увидят несогласованные данные, которые
	транзакция еще не зафиксировала. 

Особенностью PostgreSQL является очень
эффективная реализация изоляции: несколько сеансов могут одновременно читать и изменять данные, не блокируя
друг друга. Блокировка возникает только при одновременном изменении одной и той же строки двумя разными процессами.

4. долговечность

	зафиксированные данные не пропадут даже в случае сбоя (конечно,
	при правильных настройках и регулярном выполнении резервного копирования).

